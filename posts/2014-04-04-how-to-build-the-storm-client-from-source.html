<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>How to build the Storm client from source</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Pang Yan Han">
        <link rel="stylesheet" href="../css/normalize.css">
        <link rel="stylesheet" href="../css/foundation.min.css">
        <link rel="stylesheet" href="../css/responsive-nav.css">
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="../css/my-pygments-colorscheme.css">
        <link rel="stylesheet" href="../css/main.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">

        <script src="../js/vendor/modernizr.js"></script>
        <script src="../js/responsive-nav.min.js"></script>
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
            tex2jax: {
              inlineMath: [ ["\\(", "\\)"] ],
              processEscapes: true
            }
          });
        </script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
    </head>

    <body>
      <div class="site">
        <div class="row">
          <div class="small-6 columns">
            <h1 class="title"><a href="../">yan han's blog</a></h1>
          </div>
          <div class="small-6 columns">
            <div class="header-icons header-icons-translate show-for-medium-up">
              <a href="../atom.xml" target="_blank">
                <i class="fa fa-rss-square fa-4x"></i>
              </a>
              <a href="https://github.com/yanhan" target="_blank">
                <i class="fa fa-github-alt fa-4x"></i>
              </a>
              <a href="http://sg.linkedin.com/pub/yan-han-pang/92/158/91b" target="_blank">
                <i class="fa fa-linkedin fa-4x"></i>
              </a>
              <a href="https://twitter.com/yanhan_pang" target="_blank">
                <i class="fa fa-twitter fa-4x"></i>
              </a>
            </div>
            <div class="header-icons show-for-small-only">
              <a href="../atom.xml" target="_blank">
                <i class="fa fa-rss-square fa-2x"></i>
              </a>
              <a href="https://github.com/yanhan" target="_blank">
                <i class="fa fa-github-alt fa-2x"></i>
              </a>
              <a href="http://sg.linkedin.com/pub/yan-han-pang/92/158/91b" target="_blank">
                <i class="fa fa-linkedin fa-2x"></i>
              </a>
              <a href="https://twitter.com/yanhan_pang" target="_blank">
                <i class="fa fa-twitter fa-2x"></i>
              </a>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="small-12 columns">
            <nav class="header nav-collapse">
              <ul>
                <li><a class="extra" href="../">home</a></li>
                <li><a class="extra" href="../about.html">about</a></li>
                <li><a class="extra" href="../haskell">Haskell</a></li>
                <li><a class="extra" href="../bookshelf.html">bookshelf</a></li>
                <li><a class="extra" href="../interesting-talks.html">interesting talks</a></li>
                <li><a class="extra" href="../archive.html">archive</a></li>
              </ul>
            </nav>
          </div>
        </div>

        <div class="row">
          <div class="small-12 columns">
            <h2>How to build the Storm client from source</h2>
<p class="meta">
  04 Apr 2014,
  
    by <span class="italic">Pang Yan Han</span>
  
</p>
<div class="post-tags">
  <i class="fa fa-tags"></i>Tags: <a href="../tags/storm.html">storm</a>
</div>
<div class="post">
  <h2 id="introduction">Introduction</h2>
<p>This article touches Storm <strong>0.9.0.1</strong> and should be relevant for 0.9.x releases. If you’re facing problems setting up the Storm client (as I did when I first got started), you might find the information here helpful.</p>
<p><strong>NOTE:</strong> This covers building the Storm <strong>client</strong> from its <a href="https://github.com/apache/incubator-storm">github repository</a>). If you wish to learn how to setup Storm components (Zookeeper, Nimbus, UI, Supervisor, etc) or deploy a Storm topology, then this article is not for you.</p>
<h2 id="about-the-storm-client">About the Storm Client</h2>
<p>The Storm client is a command line tool mainly used to control a remote Storm topology. Its various commands can be found <a href="https://github.com/nathanmarz/storm/wiki/Command-line-client">here</a>.</p>
<h2 id="a-shortcut-solution">A shortcut solution</h2>
<p>The <a href="http://storm.incubator.apache.org/downloads.html">Storm website’s download page</a> contains binary releases. These <em>should</em> work but some of them have failed for me. If you encounter problems running the Storm client in those binary releases, do follow the instructions in this article to build the Storm client from source.</p>
<h2 id="system-requirements">System requirements</h2>
<ul>
<li>Maven (ideally Maven 3 or greater)</li>
<li>Python 2.7.x</li>
<li>Git</li>
</ul>
<p>Ensure that you have the above software installed before you proceed.</p>
<h2 id="setup">Setup</h2>
<p>Clone the <a href="https://github.com/apache/incubator-storm">incubator-storm github repository</a>:</p>
<div class="highlight"><pre><span></span>git clone https://github.com/apache/incubator-storm.git
</pre></div>

<p>You should see an <code>incubator-storm</code> directory. Go into it:</p>
<div class="highlight"><pre><span></span>cd incubator-storm
</pre></div>

<p><strong>Important Step:</strong></p>
<p>We’ll checkout the 0.9.0.1 tag:</p>
<div class="highlight"><pre><span></span>git checkout 0.9.0.1
</pre></div>

<p>If you do an <code>ls</code>, you should see a <code>bin</code> directory, and a executable file named <code>storm</code> inside it. At this point, you might think that our job is done.</p>
<h2 id="the-problem">The problem</h2>
<p>That is, until you try running the <code>storm</code> binary in the <code>bin</code> directory:</p>
<div class="highlight"><pre><span></span>bin/storm
</pre></div>

<p>You will be greeted with the following:</p>
<blockquote>
<p>******************************************</p>
<p>The storm client can only be run from within a release. You appear to be trying to run the client from a checkout of Storm’s source code.</p>
<p>You can download a Storm release at http://storm-project.net/downloads.html</p>
<p>******************************************</p>
</blockquote>
<p>When I just got started with Storm, this was the exact same issue I faced when I downloaded the binary release for 0.9.x and expected the <code>bin/storm</code> to just run (after all it’s a binary release, right? However, this issue <em>should</em> have been fixed). Since we’re now building from source, you might not be so surprised by the above message. Sorry for the anticlimax if that’s the case.</p>
<h2 id="building-the-storm-client">Building the Storm client</h2>
<p>The more meticulous people among us may have observed that there is a <code>build_release.sh</code> file in the <code>bin</code> folder. It turns out that this is indeed the solution to our woes.</p>
<p>Add executable permissions to <code>build_release.sh</code> and run it:</p>
<div class="highlight"><pre><span></span>chmod a+x bin/build_release.sh
bin/build_release.sh
</pre></div>

<p>This might take some time to run. <strong>There will be some error and warning messages</strong> but they should not affect the overall build process.</p>
<p>Once done, you should see 2 new files in the repository: <code>storm-0.9.0.1.tar.gz</code> and <code>storm-0.9.0.1.zip</code> . Let’s copy the <code>storm-0.9.0.1.tar.gz</code> to our <code>$HOME</code> directory and extract it:</p>
<div class="highlight"><pre><span></span>cp storm-0.9.0.1.tar.gz ~
cd ~
tar xzf storm-0.9.0.1.tar.gz
</pre></div>

<p>You should see a <code>storm-0.9.0.1</code> directory. Inside it, there is a <code>bin/storm</code> binary. Running it displays the list of commands it supports. You might want to add <code>$HOME/storm-0.9.0.1/bin</code> to your <code>PATH</code>, like so:</p>
<div class="highlight"><pre><span></span>echo 'PATH=$PATH:$HOME/storm-0.9.0.1/bin' &gt;&gt; ~/.bashrc
</pre></div>

<p>Mission accomplished.</p>
</div>
<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'pangyanhan'; // required: replace example with your forum shortname
        var disqus_identifier = "posts/2014-04-04-how-to-build-the-storm-client-from-source.md";
        var disqus_url = "http://blog.pangyanhan.com/posts/2014-04-04-how-to-build-the-storm-client-from-source.html";

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

          </div>
        </div>

        <div class="row footer">
          <div class="medium-12 columns">
            <div class="footer-item">
              <span>Github</span>
              <a href="https://github.com/yanhan/">github.com/yanhan</a>
            </div>
            <div class="hakyll-line">
              Site proudly generated by
              <a href="http://jaspervdj.be/hakyll" target="_blank">Hakyll</a>
            </div>
          </div>
        </div>
      </div>

      <script src="../js/vendor/jquery.js"></script>
      <script src="../js/foundation.min.js"></script>
      <script>
        $(document).foundation();
        var navigation = responsiveNav(".nav-collapse", {
          animate: true,
          transition: 284,
          label: "",
          insert: "after",
          openPos: "relative",
          navActiveClass: "js-nav-active"
        });
      </script>
      <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-49506023-1', 'pangyanhan.com');ga('send', 'pageview');</script>
    </body>
</html>
