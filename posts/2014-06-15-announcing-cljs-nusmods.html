<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Announcing: cljs-nusmods (alpha release) - Pang Yan Han's blog</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Pang Yan Han">
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:creator" content="@yanhan_pang" />
        <meta name="twitter:title" content="Announcing: cljs-nusmods (alpha release)" />
        <link rel="stylesheet" href="../css/normalize.css">
        <link rel="stylesheet" href="../css/foundation.min.css">
        <link rel="stylesheet" href="../css/responsive-nav.css">
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="../css/my-pygments-colorscheme.css">
        <link rel="stylesheet" href="../css/main.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">

        <script src="../js/vendor/modernizr.js"></script>
        <script src="../js/responsive-nav.min.js"></script>
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
            tex2jax: {
              inlineMath: [ ["\\(", "\\)"] ],
              processEscapes: true
            }
          });
        </script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49506023-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'UA-49506023-1');
        </script>
    </head>

    <body>
      <div class="site">
        <div class="row">
          <div class="small-6 columns">
            <h1 class="title"><a href="../">Pang Yan Han's blog</a></h1>
          </div>
          <div class="small-6 columns">
            <div class="header-icons header-icons-translate show-for-medium-up">
              <a href="../atom.xml" target="_blank">
                <i class="fa fa-rss-square fa-4x"></i>
              </a>
              <a href="https://github.com/yanhan" target="_blank">
                <i class="fa fa-github-alt fa-4x"></i>
              </a>
              <a href="http://sg.linkedin.com/pub/yan-han-pang/92/158/91b" target="_blank">
                <i class="fa fa-linkedin fa-4x"></i>
              </a>
              <a href="https://twitter.com/yanhan_pang" target="_blank">
                <i class="fa fa-twitter fa-4x"></i>
              </a>
            </div>
            <div class="header-icons show-for-small-only">
              <a href="../atom.xml" target="_blank">
                <i class="fa fa-rss-square fa-2x"></i>
              </a>
              <a href="https://github.com/yanhan" target="_blank">
                <i class="fa fa-github-alt fa-2x"></i>
              </a>
              <a href="http://sg.linkedin.com/pub/yan-han-pang/92/158/91b" target="_blank">
                <i class="fa fa-linkedin fa-2x"></i>
              </a>
              <a href="https://twitter.com/yanhan_pang" target="_blank">
                <i class="fa fa-twitter fa-2x"></i>
              </a>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="small-12 columns">
            <nav class="header nav-collapse">
              <ul>
                <li><a class="extra" href="../">home</a></li>
                <li><a class="extra" href="../about.html">about</a></li>
                <li><a class="extra" href="../bookshelf.html">bookshelf</a></li>
                <li><a class="extra" href="../interesting-talks.html">interesting talks</a></li>
                <li><a class="extra" href="../archive.html">archive</a></li>
              </ul>
            </nav>
          </div>
        </div>

        <div class="row">
          <div class="small-12 columns">
            <h2>Announcing: cljs-nusmods (alpha release)</h2>
<p class="meta">
  15 Jun 2014,
  
    by <span class="italic">Pang Yan Han</span>
  
</p>
<div class="post-tags">
  <i class="fa fa-tags"></i>Tags: <a href="../tags/Clojure.html">Clojure</a>, <a href="../tags/ClojureScript.html">ClojureScript</a>, <a href="../tags/cljs-nusmods.html">cljs-nusmods</a>
</div>
<div class="post">
  <p>Disclaimer: Opinions expressed on this blog are solely my own and do not express the views or opinions of my employer(s), past or present.</p>
  <p><strong>Update Dec 2017:</strong> This project is long dead. And it will stay dead. Like a lot of things I have built in the past, this is one of those things that I eventually just lost interest in. And in this case, eventually is just a few short months.</p>
<p>Like many other posts that have become irrelevant over time, I am keeping this one for old time’s sake.</p>
<hr />
<p>I’ve been a long time fan of functional programming, and it is my pleasure to announce the alpha release of <strong>cljs-nusmods</strong>, a project I’ve been working on for the past 2 months during my free time. You can probably deduce from its name that it is powered by <a href="https://github.com/clojure/clojurescript">ClojureScript</a>. I’ve made it a goal to release this alpha version by 15 June 2014, but by the time this blog post is done it’ll be 16 June. Lol.</p>
<p><strong>Working demo:</strong> <a href="http://cljs-nusmods.pangyanhan.com" class="uri">http://cljs-nusmods.pangyanhan.com</a></p>
<p><strong>Github repository:</strong> <a href="https://github.com/yanhan/cljs-nusmods" class="uri">https://github.com/yanhan/cljs-nusmods</a></p>
<p>For those of you know <a href="http://nusmods.com">NUSMods</a>, cljs-nusmods will seem eerily familiar. In fact, cljs-nusmods is based on NUSMods, and tries to mimic it as much as possible. I’d like to thank <a href="https://github.com/ahbeng">Beng</a> for making his NUSMods project <a href="https://github.com/ahbeng/NUSMods">open source</a> and for creating the <a href="https://github.com/ahbeng/NUSModsAPI">NUSModsAPI</a> project; this project would very likely not be possible without your great contributions to open source and to the NUS student population.</p>
<p>That said, I’ve tried as much as possible not to look at the implementation of NUSMods. As such, if one digs into the innards, the implementation of both will likely look very different.</p>
<h2 id="why-another-nus-timetable-builder">Why another NUS Timetable Builder</h2>
<p>Let’s just say that everyone has things that he/she wants to do in their life. To me, writing this piece of software is one of them. I also needed a project to work on, after all it’s the best way to learn a new language, and I’m very bad at coming up with original ideas. This project seems to be a right fit - it’ll be eventually doable (since someone has already done it), yet be very challenging at the same time.</p>
<h2 id="why-clojurescript">Why ClojureScript?</h2>
<p>cljs-nusmods is purely a personal project, with the explicit aim of using ClojureScript for a front end web application. So you might ask, why ClojureScript?</p>
<p>First of all, I’ve been dealing with JavaScript for a while and I honestly do not like the language. Despite its widespread use and availability, I only use it when I have no choice (such as when working on someone else’s projects) or for writing <strong>small</strong> programs involving a lot of JSON manipulation, where it is clearly the language of choice.</p>
<p>Some of you may argue that JavaScript is not that bad if you only use the <a href="http://www.amazon.com/JavaScript-Good-Parts-Douglas-Crockford/dp/0596517742">good parts</a>, and yes, it is not <strong>that</strong> bad, but it is not that good either. There is an increasing use in JavaScript over these few years, and despite its flaws as a language, an ecosystem of libraries are out there that make things a lot better. Despite all the nice libraries out there, whenever I write JavaScript code, I just feel that things do not have to be this way; they can be a lot better. What if I could get the goodness of JavaScript (huge ecosystem of libraries) without using the language?</p>
<p>In fact, that is no longer a fairy tale. The rise of JavaScript has seen the rise of programmers who like me, do not like JavaScript, yet have to use it; but unlike me, they are so highly skilled, they can make a computer generate the JavaScript for them by writing a program that takes a different input language and outputs JavaScript - a compiler. Enter the world of JavaScript alternatives.</p>
<p>I’ve been looking at JavaScript alternatives for a while; there are lots of them. Among the more promising ones (based on what little I’ve read) are:</p>
<ul>
<li>Google’s <a href="https://www.dartlang.org/">Dart</a></li>
<li>Microsoft’s <a href="http://www.typescriptlang.org/">TypeScript</a></li>
<li><a href="http://www.scala-js.org/">Scala.js</a></li>
<li><a href="https://github.com/faylang/fay/wiki">Fay</a></li>
<li><a href="http://elm-lang.org/">Elm</a></li>
<li><a href="http://ocsigen.org/js_of_ocaml/">js_of_ocaml</a></li>
<li>and of course <a href="https://github.com/clojure/clojurescript">ClojureScript</a></li>
</ul>
<p>Nope, <a href="http://coffeescript.org">CoffeeScript</a> is not one of those alternatives I considered. In fact, I’d rather use JavaScript than CoffeeScript.</p>
<p>If you look at the list above, Fay and Elm are both Haskell based languages. In fact, it was most probably this article on the Haskell wiki, <a href="http://www.haskell.org/haskellwiki/The_JavaScript_Problem">The JavaScript Problem</a>, that sowed the seeds of my rebellion against JavaScript, and eventually culminated in cljs-nusmods.</p>
<p>I’m a rather big fan of functional languages, so that leaves out Dart and TypeScript. I didn’t have a good experience with OCaml from a class I’ve taken, and while I’ve tried a bit Scala and am a fan of types in general, Scala is quite the beast of a language. So only one of the Haskell JS derivatives and ClojureScript remains.</p>
<p>If I were sufficiently confident, I’d go ahead with one of the Haskell JS derivatives. However, I’ve had a shaky experience with Haskell - having learnt the language on and off for several years, not using it much, and finding it rather hard to use in production settings. The Haskell JavaScript alternatives also feel rather unstable and incomplete to me - I wanted to do something “real” - JavaScript interop was of the utmost importance to me.</p>
<p>On the other hand, Clojure is sufficiently close enough to the Lisp family of languages to not pose such a big barrier, since the first programming course I took at NUS was taught using Scheme. I still remember writing a lot of Scheme code for that course on pen and paper; it was one of the very few languages that I wouldn’t mind doing that. Of course, those were very simple programs compared to things I’m dealing with now; but still, Scheme has always felt like a simple language to me.</p>
<p>Clojure is a modern Lisp, and takes a very functional approach to things. Furthermore, ClojureScript supports the use of JavaScript libraries, with great wrapper libraries such as <a href="https://github.com/ibdknox/jayq">jayq</a> available. It uses the <a href="https://developers.google.com/closure/compiler/">Google Closure Compiler</a> and with advanced compilations, efficient JavaScript code can be generated. Of course, getting advanced compilations to work with JavaScript libraries that were not written with Google Closure in mind (almost all of them) turned out to be a different story, but I kind of figured that one out. Kind of.</p>
<p>So I went ahead with ClojureScript.</p>
<h2 id="on-hindsight">On hindsight</h2>
<p>On hindsight, I think was a very good choice to use Clojurescript. My experience with Scheme paid off; Clojure felt a lot more modern than Scheme and Common Lisp and I did not have to go through the Lisp fear/shock factor (of seeing parentheses on the different side of code than one is used to). After writing this bit of ClojureScript, I have to say that Clojure is a <strong>very</strong> well designed language. It’s quite safe to say that most of the pain points I’ve faced working on this project <strong>do not</strong> lie with Clojure as a programming language; this is actually a rare thing for me - I tend to see the flaws of programming languages quickly, and so far Clojure has been really pleasant. Of course I need to write more code to find out if that is really the case =P</p>
<p>At work, I have a colleague whom I talk to on technical topics, and in recent times he’s taken an interest in Clojure. In fact, I rewatched Rich Hickey’s <a href="http://www.infoq.com/presentations/Simple-Made-Easy">Simple Made Easy</a> talk after he showed it to me. To be honest, I didn’t really get the big deal about Rich Hickey’s points the first time I watched the talk (which was several years ago). When I watched the talk for a second time (after having more experience than the past me, and having some Clojure experience through this project), I felt like I had only barely begun to understand the talk. That made me feel that I’ve made the right choice in using ClojureScript. Anyways, do watch the talk; it’s awesome.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Currently, the source code for cljs-nusmods is rather ugly and nowhere near purely functional. That said, I’ve tried my best to stick to being functional. I’m also pretty new to Clojure and ClojureScript, so much of the code is probably non-idiomatic. There is a lot of refactoring to be done, and many features have not been implemented. I’ve put in a lot of <code>console.log</code> with some weird messages to aid debugging, and I’ve left a few Git commits labelled <code>[TEMP COMMIT]</code> and didn’t bother to rework them because they were too far back. However, there is something we can play around with, and that’s what’s important.</p>
<p>Once again, I’d like to thank <a href="https://github.com/ahbeng">Beng</a> for making his <a href="https://github.com/ahbeng/NUSMods">NUSMods</a> project open source. cljs-nusmods will have taken a very different path without it. Thank you Beng!</p>
</div>
<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'pangyanhan'; // required: replace example with your forum shortname
        var disqus_identifier = "posts/2014-06-15-announcing-cljs-nusmods.md";
        var disqus_url = "http://blog.pangyanhan.com/posts/2014-06-15-announcing-cljs-nusmods.html";

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

          </div>
        </div>

        <div class="row footer">
          <div class="medium-12 columns">
            <div class="footer-item">
              <span>Github</span>
              <a href="https://github.com/yanhan/">github.com/yanhan</a>
            </div>
            <div class="hakyll-line">
              Site proudly generated by
              <a href="http://jaspervdj.be/hakyll" target="_blank">Hakyll</a>
            </div>
          </div>
        </div>
      </div>

      <script src="../js/vendor/jquery.js"></script>
      <script src="../js/foundation.min.js"></script>
      <script>
        $(document).foundation();
        var navigation = responsiveNav(".nav-collapse", {
          animate: true,
          transition: 284,
          label: "",
          insert: "after",
          openPos: "relative",
          navActiveClass: "js-nav-active"
        });
      </script>
    </body>
</html>
